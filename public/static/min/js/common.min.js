$(function(){function t(){var t=$('input[type="text"], input[type="password"], textarea');t.length&&$.each(t,function(e){t.eq(e).lc_placeholder()})}function e(){var t=$("body").find(".limitText");t.length&&$.each(t,function(e){t.eq(e).lc_limitText()})}function n(){var t=$(".ui-select");t.length&&$.each(t,function(e){t.eq(e).lc_uiSelect()})}function i(){var t=$(".radioSels");t.length&&$.each(t,function(e){t.eq(e).lc_radioSel()})}function l(){var t=$(".checkboxSels");t.length&&$.each(t,function(e){t.eq(e).lc_checkboxSel()})}if(!window.K)return!1;var c=K.util.outsiteClick;$.fn.lc_placeholder=function(){var t=$(this),e=t.attr("placeholder");"placeholder"in document.createElement("input")||(t.val(e),t.focus(function(){t.val("")}).blur(function(){var n=$.trim(t.val());n||t.val(e)}))},$.fn.lc_limitText=function(){var t,e=$(this);t=e.find("textarea"),t.length&&t.keyup(function(){textShowEl=e.find(".text-tip"),limit=Number($.trim(textShowEl.text()).split("/")[1]);var n=t.val(),i=n.length;i>limit?(t.val(n.slice(0,limit)),textShowEl.text(limit+"/"+limit)):textShowEl.text(i+"/"+limit)})},$.fn.lc_uiSelect=function(){var t=$(this),e=t.find(".dropdown-menu"),n=t.find(".ui-select-text");t.on("click",".dropdown-menu li a",function(t){e.hide(),n.text($(t.target).text()),t.stopPropagation()}).on("click",function(){e.toggle()}),c(t,function(n){$(n).parents(".ui-select").length||n==t[0]||e.hide()})},$.fn.lc_radioSel=function(){var t=$(this);t.length&&t.on("click","label",function(e){console.log(e);var n,i=$(e.currentTarget);t.find(".radio-wrap").removeClass("sel"),n=i.parent(),n.addClass("sel"),n.find('input[type="radio"]').attr("checked",!0),e.stopPropagation()})},$.fn.lc_checkboxSel=function(){var t,e=$(this);e.length&&(t=e.find(".checkbox-wrap"),t.length&&($.each(t,function(e){"on"==t.eq(e).attr("d-select")&&(t.eq(e).addClass("sel"),t.eq(e).find("input[type=checkbox]").attr("checked",!0))}),e.on("click","label",function(t){var e,n=$(t.currentTarget);e=n.parent(),"on"!=e.attr("d-select")&&(e.hasClass("sel")?(e.removeClass("sel"),e.find('input[type="checkbox"]').attr("checked",!1)):(e.addClass("sel"),e.find('input[type="checkbox"]').attr("checked",!0))),t.stopPropagation()})))},t(),e(),n(),i(),l()});
!function(t){var n;n={},n.introduce={__BUILD_TIME:"20130925145439",version:"0.01",author:"pheart"},$.extend(n,{ns:function(t){var n=t.split("."),e=K,r=0,i=0;for("K"===n[0]&&(n=n.slice(1)),r=0,i=n.length;i>r;r++)"undefined"==typeof e[n[r]]&&(e[n[r]]={}),e=e[n[r]];return e}}),t.K=n}(window),function(t){t.Validater=function(){function t(t){var n=t.isEmpty,e=t.value||"";return!e&&n?(n.call(null,e),!1):t.validate&&!t.validate.call(null,e)?!1:!0}var n=function(){var n={};return n.list=[],n.push=function(){var t=this,n=arguments[0],e=$.type(n);"array"==e?t.list.concat(n):"object"==e&&t.list.push(n)},n.run=function(n){for(var e=this.list,r=!0,i=0,o=e.length;o>i;i++)if(!t(e[i])){r=!1;break}r&&n()},n},e=function(){return n()};return e}}(K),function(t){var n=function(){function t(t){if("object"!==$.type(t))throw new TypeError;var n=[];for(var e in t)s.call(t,e)&&n.push(e);if(f)for(var r=0;e=DONT_ENUMS[r];r++)s.call(t,e)&&n.push(e);return n}function e(t){var n=t.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=n.length||n[0]?n:[]}function r(t,n){var e=t;return function(){var t=this,r=u([i(t,e)],arguments);return n.apply(this,r)}}function i(t,n){var e;"function"==$.type(n)&&(e=n,n=t,t=e);var r=function(){var e=arguments;return t.apply(n,e)};return r}function o(t){if(!t)return[];if("toArray"in Object(t))return t.toArray();for(var n=t.length||0,e=new Array(n);n--;)e[n]=t[n];return e}function u(t,n){for(var e=t.length,r=n.length;r--;)t[e+r]=n[r];return t}function a(){}function c(){function t(){this.initialize.apply(this,arguments)}var e=null,r=o(arguments);$.isFunction(r[0])&&(e=r.shift()),$.extend(t,n.Methods),t.superclass=e,t.subclasses=[],e&&(a.prototype=e.prototype,t.prototype=new a,e.subclasses.push(t));for(var i=0,u=r.length;u>i;i++)t.addMethods(r[i]);return t.prototype.initialize||(t.prototype.initialize=$.noop),t.prototype.constructor=t,t}function l(n){var i=this.superclass&&this.superclass.prototype,o=t(n);f&&(n.toString!=Object.prototype.toString&&o.push("toString"),n.valueOf!=Object.prototype.valueOf&&o.push("valueOf"));for(var u=0,a=o.length;a>u;u++){var c=o[u],l=n[c];if(i&&$.isFunction(l)&&"$super"==e(l)[0]){var s=l;l=r(function(t){return function(){return i[t].apply(this,arguments)}}(c),s),l.valueOf=function(t){return function(){return t.valueOf.call(t)}}(s),l.toString=function(t){return function(){return t.toString.call(t)}}(s)}this.prototype[c]=l}return this}var s=(Object.prototype.toString,Object.prototype.hasOwnProperty),f=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}();return{create:c,Methods:{addMethods:l}}}();t.Class=n}(K),function(){var t=K.ns("util");t.htmlDecode=function(t){var n=document.createElement("div");n.innerHTML=t;var e=n.innerText||n.textContent;return n=null,e},t.PagTable=function(t){var n={paginateBtns:['<i class="icon iconfont"></i>','<i class="icon iconfont"></i>'],skin:"lc-table-c"};return new K.Table($.extend(n,t))},t.outsiteClick=function(){var t=[];return $(document).click(function(n){var e=n.srcElement;$.each(t,function(t,n){var r=!1;if(n.el[0]==e)r=!0;else if(n.filter&&"array"==$.type(n.filter))for(var t=0;t<n.filter.length;t++)if(n.filter[t].className){if($(e).hasClass(n.filter[t].className)){r=!0;break}}else if(n.filter[t].parent&&$(e).parents("."+n.filter[t].parent)[0]){r=!0;break}r||n.fn.call(n.context,e)})}),function(n,e,r,i){var o={el:n,fn:e,filter:r||null,context:i||null};t.push(o)}}(),t.BaseView=K.Class.create({setEvents:function(){(this.events||"object"==$.type(this.events))&&(this.eventsHandler||"object"==$.type(this.eventsHandler))&&K.BindEventsHelper.setEvents(this.events,this.eventsHandler,this.El,this)}}),t.pageManager=function(){function t(t){if(o.length)for(var n=0,e=o.length;e>n;n++)if(o[n].name==t)return o[n];return!1}function n(){var n=arguments[0];if(!n||"object"!=$.type(n))throw Error("没有传入page add 参数");t(n.name)||o.push(n)}function e(n){var e=t(n);if(!e)throw new Error("name 不存在");r(),e.parent&&e.parent.show(),e.el&&e.el.show()}function r(){if(o.length)for(var t=0,n=o.length;n>t;t++)o[t].parent&&o[t].parent.hide(),o[t].el&&o[t].el.hide()}function i(n,r){var i=t(n);if(!i)throw new Error("name 不存在");e(n),i.el&&i.el.html(r)}var o=[];return{add:n,show:e,hide:r,render:i}}();var n=function(){function t(t,n){t&&r.push({term:t,fn:n})}function n(){function t(i){function o(){return e++,e>=n?!0:t(r[e])}var u,a,c;return i?(a=i.term,c=i.fn,u=$.type(a),"function"==u?a()?o():(c&&c(),!1):a?o():(c&&c(),!1)):void 0}var n=r.length,e=0;return t(r[0])}function e(t){n()&&t&&t()}var r=[];return{check:t,run:e}},e={user:/^\S{6,16}$/,password:/^\S{6,16}$/,size:function(t,n){return n||(n=t),new RegExp("^\\S{"+t+","+n+"}$")},checkUser:function(t){return function(){return e.user.test(t)?!0:!1}},checkSize:function(t,n,r){return function(){var i=e.size(n,r);return i.test(t)?!0:!1}},checkEmpty:function(t){return function(){return t.length?!0:!1}},checkSame:function(t,n){return function(){return t!=n?!1:!0}}},r=function(t){function e(t,n){i.check(t,function(){tip(n)})}function r(t){i.run(t)}t&&(tip=t);var i=n();return{check:e,run:r}};r.regexp=e,t.myValidate=r}(),K.Observe=window.utilHelper?window.utilHelper.Observe:"",K.BindEventsHelper=window.utilHelper?window.utilHelper.BindEventsHelper:"",K.Table=window.Table?window.Table:"",K.Paginate=window.Paginate?window.Paginate:"";
!function(){function e(){jQuery&&jQuery(function(){jQuery(".logout").click(function(){n.server("loginout",{},function(e){"0"==e.code&&(window.top.location.href="/org_v2/default/login")})})})}var n=K.ns("base");!function(e,n,t){{var r=n.scripts,i=r[r.length-1],a=i.src,l=a.substring(0,a.lastIndexOf("/"));l.substring(0,l.lastIndexOf("/"))}if(e!=e.parent){if(e.parent.document.title=e.document.title,e.parent.jQuery){var o=e.parent.jQuery("#browser"),u=e.parent.jQuery(".menu-warp");if(o.size()>0){var c=0;setInterval(function(){var e=$("html,body").innerHeight(),n=u.height();e>n||(e=n),e!=c&&(c=e,o.animate({height:c},150))},250)}}e.parent.layer&&(e.player=e.parent.layer)}}(window,document,void 0),n.randomUrl=function(e){var n=(e+"").indexOf("?")>-1?"&":"?";return e=e+n+"_="+Math.random(),n=null,e},n.extend=function(){var e=arguments,n=e.length,t={};if(n>0&&(t=e[0],n>1))for(var r=1;n>r;r++){var i=e[r];if(i)for(var a in i)t[a]=i[a]}return t},n.call=function(e,n,t){return t||(t=[]),"function"==typeof e?e.apply(n||this,t):this},window.addEventListener?window.addEventListener("load",e):window.attachEvent("onload",e),Date.prototype.format=function(e){var n=this.getFullYear(),t=this.getMonth(),r=this.getDate(),i=this.getHours(),a=this.getMinutes(),l=this.getSeconds(),o=e+"";return o=o.replace(/y{4}/i,n),o=o.replace(/m{2}/i,9>t?"0"+(t+1):t+1),o=o.replace(/d{2}/i,9>r?"0"+(r+1):r+1),o=o.replace(/h{2}/i,9>i?"0"+(i+1):i+1),o=o.replace(/i{2}/i,9>a?"0"+(a+1):a+1),o=o.replace(/s{2}/i,9>l?"0"+(l+1):l+1),o=o.replace(/s/i,l),o=o.replace(/i/i,a),o=o.replace(/h/i,i),o=o.replace(/d/i,r),o=o.replace(/m/i,t+1),o=o.replace(/y/i,(n+"").substring(2)),n=null,t=null,r=null,i=null,a=null,l=null,o},window.Uploader=n.Uploader=function(e){e=n.extend({},e)}}();
!function(){var e=K.ns("dialogUi"),n=K.base;e.load=function(n,o){return e.load.show(n,o)},e.load.index=0,e.load.show=function(o,l){return l=n.extend({shade:[.1,"#000000"]},l),e.load.hide(),e.load.index=player.load(o,l),e.load.index},e.load.hide=function(){return player.close(e.load.index)},window.load=e.load,e.msg=function(n,o,l){return e.msg.show(n,o,l)},e.msg.index=0,e.msg.show=function(n,o,l){return e.msg.index=player.msg(n,o,l),e.msg.index},e.msg.hide=function(){return player.close(e.msg.index)},window.msg=e.msg,e.alert=function(e,n){return player.open({time:0,content:'<p class="alert-con">'+e+"</p>",closeBtn:!1,title:!1,area:["360px","200px"],skin:"lc-layui-layer",btn:["确定"],yes:function(e,o){n&&n(),player.close(e)}})},e.confirm=function(e){return player.open({time:0,content:'<p class="alert-con">'+e.text||"</p>",closeBtn:!1,title:!1,area:["360px","200px"],skin:"lc-layui-layer",btn:[e.okText||"确定",e.cancelText||"取消"],yes:function(n,o){e.okCallback&&e.okCallback(),player.close(n)},cancel:function(n){e.cancelCallback&&e.cancelCallback()}})},e.wait=function(){var e=player.open({type:3});return{close:function(){player.close(e)}}},e.tip=function(e,n,o){var l=$.extend({type:4,tips:3,closeBtn:!1,content:[n,e],time:2e3},o||{}),t=layer.open(l);return{close:function(){player.close(t)}}},e.open=function(e){var n=player.open(e);return{close:function(){player.close(n)}}},e.msg=function(e){var n=layer.msg(e||"",{time:!1,icon:16,offset:"200px"});return{close:function(){layer.close(n)}}}}();
!function(){K.ns("server")}();